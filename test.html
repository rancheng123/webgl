<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas" style="width: 200px;height: 200px;border: 1px solid green;"></canvas>
    <!--顶点着色器  start-->
    <script id="shader-vs"  type="x-shader/x-vertex">
        //openGL语法（glsl)
        //在显卡上执行，确定形状的各个坐标

        //声明变量
        attribute vec3 v3Position;
        void main(void){
            //内置变量
            gl_Position = vec4(v3Position, 1.0);
        }
    </script>
    <!--顶点着色器  end-->



    <!--片段着色器  start-->
    <script id="2d-fragment-shader" type="x-shader/x-fragment">
    void main() {
      //片段颜色（每个像素着色时，GPU都会调用片段着色器，决定上什么颜色。）
      gl_FragColor = vec4(0, 1, 0, 1);  // green
    }
    </script>
    <!--片段着色器  end-->


    <script>

        window.onload = ()=>{
            var canvas = document.getElementById('canvas');
            var gl = canvas.getContext('webgl');
            var buffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
            gl.bufferData(gl.ARRAY_BUFFER, 1024, gl.STATIC_DRAW);
            gl.bufferSubData(gl.ARRAY_BUFFER, 512, new Float32Array(
                (()=>{
                    var x = 0.0;
                    var y = -0.6;
                    return [
                        x + 0,y + 0,0,
                        x + 1,y + 0,0,
                        x + 1,y + 1,0,
                    ]
                })()
            ),);



        }
    </script>
</body>
</html>